(function(e){function t(t){for(var i,l,s=t[0],o=t[1],d=t[2],u=0,p=[];u<s.length;u++)l=s[u],Object.prototype.hasOwnProperty.call(n,l)&&n[l]&&p.push(n[l][0]),n[l]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i]);c&&c(t);while(p.length)p.shift()();return r.push.apply(r,d||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],i=!0,s=1;s<a.length;s++){var o=a[s];0!==n[o]&&(i=!1)}i&&(r.splice(t--,1),e=l(l.s=a[0]))}return e}var i={},n={app:0},r=[];function l(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=i,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)l.d(a,i,function(t){return e[t]}.bind(null,i));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var c=o;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-main",[a("v-container",[a("users")],1)],1)],1)},r=[],l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.users,expanded:e.expanded,"show-expand":""},on:{"update:expanded":function(t){e.expanded=t}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Users")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",n,!1),i),[e._v(" New Item ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Email"},model:{value:e.editedItem.email,callback:function(t){e.$set(e.editedItem,"email",t)},expression:"editedItem.email"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Phone"},model:{value:e.editedItem.phone,callback:function(t){e.$set(e.editedItem,"phone",t)},expression:"editedItem.phone"}})],1),e.editedItem.api_key?a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"API Key"},model:{value:e.editedItem.api_key,callback:function(t){e.$set(e.editedItem,"api_key",t)},expression:"editedItem.api_key"}})],1):e._e()],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" Save ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Are you sure you want to delete this item?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(i)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(i)}}},[e._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v(" Reset ")])]},proxy:!0},{key:"expanded-item",fn:function(e){var t=e.headers,i=e.item;return[a("td",{attrs:{colspan:t.length}},[a("procedures",{attrs:{user:i}})],1)]}}])})},s=[],o=(a("a434"),a("bc3a")),d=a.n(o),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[e.procedures.length?a("v-simple-table",{staticClass:"mb-3",scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",[e._v("Type")]),a("th",[e._v("Recipient")]),a("th",[e._v("Message")]),a("th",{attrs:{width:"1"}})])]),a("tbody",e._l(e.procedures,(function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.type))]),a("td",[e._v(e._s(t.recipient))]),a("td",[e._v(e._s(t.message))]),a("td",[a("v-icon",{attrs:{small:""},on:{click:function(a){return e.deleteItem(t)}}},[e._v(" mdi-delete ")])],1)])})),0)]},proxy:!0}],null,!1,1574448722)}):e._e(),a("v-form",{ref:"form"},[a("v-select",{attrs:{items:e.types,"item-value":"val","item-text":"text",label:"Type"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}}),a("v-text-field",{attrs:{label:"Recipient"},model:{value:e.recipient,callback:function(t){e.recipient=t},expression:"recipient"}}),a("v-textarea",{attrs:{label:"Message","auto-grow":""},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.submit}},[e._v(" Save ")])],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Are you sure you want to delete this item?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),a("v-spacer")],1)],1)],1)],1)},u=[],p={name:"Procedures",props:["user"],data:function(){return{dialogDelete:!1,types:["sms","email"],type:null,recipient:null,message:null,procedures:[],editedIndex:-1,editedItem:{id:null,type:null,recipient:null,message:null},defaultItem:{id:null,type:null,recipient:null,message:null}}},watch:{dialogDelete:function(e){e||this.closeDelete()}},created:function(){this.getProcedures()},methods:{getProcedures:function(){var e=this;d.a.get("/user/procedure/list/".concat(this.user.id)).then((function(t){e.procedures=t.data})).catch(this.$axiosError)},submit:function(){var e=this,t={type:this.type,recipient:this.recipient,message:this.message,user_id:this.user.id};d.a.post("/user/procedure/create",t).then((function(a){t.id=a.data.id,e.procedures.push(t),e.clear()})).catch(this.$axiosError)},clear:function(){this.$refs.form.reset()},deleteItem:function(e){this.editedIndex=this.procedures.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){var e=this;d.a.get("/user/procedure/delete/".concat(this.editedItem.id)).then((function(){e.procedures.splice(e.editedIndex,1),e.closeDelete()})).catch(this.$axiosError)},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))}}},f=p,v=a("2877"),m=a("6544"),h=a.n(m),x=a("8336"),b=a("b0af"),g=a("99d9"),I=a("a523"),y=a("169a"),_=a("4bd4"),k=a("132d"),V=a("b974"),D=a("1f4f"),O=a("2fa4"),w=a("8654"),C=a("a844"),T=Object(v["a"])(f,c,u,!1,null,null,null),j=T.exports;h()(T,{VBtn:x["a"],VCard:b["a"],VCardActions:g["a"],VCardTitle:g["c"],VContainer:I["a"],VDialog:y["a"],VForm:_["a"],VIcon:k["a"],VSelect:V["a"],VSimpleTable:D["a"],VSpacer:O["a"],VTextField:w["a"],VTextarea:C["a"]});var $={name:"Users",components:{procedures:j},data:function(){return{expanded:[],dialog:!1,dialogDelete:!1,headers:[{text:"ID",value:"id"},{text:"Email",value:"email"},{text:"Phone",value:"phone"},{text:"API Key",value:"api_key"},{text:"Actions",value:"actions",sortable:!1},{text:"",value:"data-table-expand"}],users:[],editedIndex:-1,editedItem:{id:null,email:null,phone:null,api_key:null},defaultItem:{id:null,email:null,phone:null,api_key:null}}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},created:function(){this.initialize()},methods:{initialize:function(){this.getUsers()},getUsers:function(){var e=this;d.a.get("/user/list").then((function(t){e.users=t.data}))},editItem:function(e){this.editedIndex=this.users.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){this.editedIndex=this.users.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){var e=this;d.a.get("/user/delete/".concat(this.editedItem.id)).then((function(){e.users.splice(e.editedIndex,1),e.closeDelete()}))},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){var e=this;this.editedIndex>-1?d.a.post("/user/update",this.editedItem).then((function(){Object.assign(e.users[e.editedIndex],e.editedItem),e.close()})).catch(this.$axiosError):d.a.post("/user/create",this.editedItem).then((function(t){e.editedItem.id=t.data.id,e.editedItem.api_key=t.data.api_key,e.users.unshift(e.editedItem),e.close()})).catch(this.$axiosError)}}},S=$,P=a("62ad"),E=a("8fea"),A=a("ce7e"),M=a("0fd9"),K=a("71d9"),R=a("2a7f"),U=Object(v["a"])(S,l,s,!1,null,null,null),z=U.exports;h()(U,{VBtn:x["a"],VCard:b["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VCol:P["a"],VContainer:I["a"],VDataTable:E["a"],VDialog:y["a"],VDivider:A["a"],VIcon:k["a"],VRow:M["a"],VSpacer:O["a"],VTextField:w["a"],VToolbar:K["a"],VToolbarTitle:R["a"]}),i["a"].prototype.$axiosError=function(e){alert(JSON.stringify(e.response.data))};var F={name:"App",components:{users:z},data:function(){return{}}},J=F,N=a("7496"),B=a("f6c4"),q=Object(v["a"])(J,n,r,!1,null,null,null),G=q.exports;h()(q,{VApp:N["a"],VContainer:I["a"],VMain:B["a"]});var H=a("f309");i["a"].use(H["a"]);var L=new H["a"]({});i["a"].config.productionTip=!1,new i["a"]({vuetify:L,render:function(e){return e(G)}}).$mount("#app")}});
//# sourceMappingURL=app.2a038d63.js.map